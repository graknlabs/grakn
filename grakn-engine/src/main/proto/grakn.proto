syntax = "proto3";

package ai.grakn.rpc;

service Grakn {
    rpc OpenTx (OpenTxRequest) returns (OpenTxResponse);
    rpc CloseTx (CloseTxRequest) returns (CloseTxResponse);
}

message OpenTxRequest {
    Keyspace keyspace = 1;
}

message OpenTxResponse {
    message Success {
        TxId tx = 1;
    }
    message InvalidKeyspaceError {

    }
    oneof response {
        Success success = 1;
        InvalidKeyspaceError invalidKeyspace = 2;
    }
}

message CloseTxRequest {
    TxId tx = 1;
}

message CloseTxResponse {
}

message TxId {
    int32 value = 1;
}

message Keyspace {
    string value = 1;
}
