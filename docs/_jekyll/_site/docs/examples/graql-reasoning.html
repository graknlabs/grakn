<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="An example to illustrate inference using genealogy data.">
<meta name="keywords" content="reasoningexamples,  migration, GRAKN.AI, Grakn Labs, grakn, graql, grakn.ai, Mindmaps Research, Mindmaps Research Ltd, MindmapsDB, mindmaps, mindmaps graph, mindmaps.io, knowledge graph, distributed knowledge graph, development platform, developer tool, data platform, programming langauge, query langauge, database, semantic database, distributed semantic database, distributed database, graph database, semantic search, data exploration, recommendation system, knowledge management, knowledge engineering, real-time analytics, advanced analytics, reasoning engine, inference engine, expert systems, semantic applications, research engines, data management, business intelligence, big data, semantic web, semantic data, knowledge representation, automated reasoning, semantic network, knowledge ontology, semantic graph, ontology engineering, graph based knowledge representation, artificial intelligence,">
<title>GRAKN.AI - Reasoning with Graql</title>
<link rel="stylesheet" href="/css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/css/modern-business.css">
<link rel="stylesheet" href="/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/css/customstyles.css">
<link rel="stylesheet" href="/css/theme-white.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/prism.js"></script>
<script src="/js/prism-graql.js"></script>
<script src="/js/customscripts.js"></script>

<link rel="shortcut icon" href="/favicon.ico">

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '2009892122581066'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=2009892122581066&ev=PageView&noscript=1" alt="facebook pixel"
/></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->



<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4005feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="display: none;">
    <symbol id="logo" viewBox="0 0 40 40" aria-labelledby="GRAKN.AI">
       <value>GRAKN.AI</value>
       <desc>A Distributed Knowledge Graph</desc>
       <polygon vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="20,2 38,20 20,38 2,20"/>
       <polyline vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="7.27,32.73 7.27,7.27 20,20 32.73,7.27 32.73,32.73"/>
    </symbol>
    <symbol id="github" viewBox="0 0 16 16" aria-labelledby="GitHub">
        <value>GitHub</value>
        <desc>GitHub</desc>
        <path vector-effect="non-scaling-stroke" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
    </symbol>
    <symbol id="gitter" viewBox="0 0 28 40" aria-labelledby="Gitter">
        <value>Gitter</value>
        <desc>Gitter</desc>
        <rect vector-effect="non-scaling-stroke" x="15.6" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="22" y="6.4" width="3.2" height="17.6"/>
        <rect vector-effect="non-scaling-stroke" x="9.2" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="2.8" width="3.2" height="24"/>
    </symbol>
    <symbol id="slack" viewBox="0 0 256 256" aria-labelledby="Slack">
        <path d="M165.963541,15.8384262 C162.07318,3.86308197 149.212328,-2.69009836 137.239082,1.20236066 C125.263738,5.09272131 118.710557,17.9535738 122.603016,29.9268197 L181.550164,211.292328 C185.597902,222.478689 197.682361,228.765377 209.282098,225.426885 C221.381246,221.943607 228.756984,209.093246 224.896,197.21023 C224.749115,196.756984 165.963541,15.8384262 165.963541,15.8384262"></path>
        <path d="M74.6260984,45.515541 C70.7336393,33.5422951 57.8727869,26.9891148 45.899541,30.8794754 C33.9241967,34.7698361 27.3710164,47.6306885 31.2634754,59.6060328 L90.210623,240.971541 C94.2583607,252.157902 106.34282,258.44459 117.942557,255.104 C130.041705,251.62282 137.417443,238.772459 133.556459,226.887344 C133.409574,226.436197 74.6260984,45.515541 74.6260984,45.515541"></path>
        <path d="M240.161574,166.045377 C252.136918,162.155016 258.688,149.294164 254.797639,137.31882 C250.907279,125.345574 238.046426,118.792393 226.07318,122.682754 L44.7076721,181.632 C33.5213115,185.677639 27.234623,197.762098 30.5731148,209.361836 C34.0563934,221.460984 46.9067541,228.836721 58.7897705,224.975738 C59.2430164,224.828852 240.161574,166.045377 240.161574,166.045377"></path>
        <path d="M82.507541,217.270557 C94.312918,213.434754 109.528131,208.491016 125.855475,203.186361 C122.019672,191.380984 117.075934,176.163672 111.76918,159.83423 L68.4191475,173.924721 L82.507541,217.270557"></path>
        <path d="M173.847082,187.591344 C190.235279,182.267803 205.467279,177.31777 217.195016,173.507148 C213.359213,161.70177 208.413377,146.480262 203.106623,130.146623 L159.75659,144.237115 L173.847082,187.591344"></path>
        <path d="M210.484459,74.7058361 C222.457705,70.8154754 229.010885,57.954623 225.120525,45.9792787 C221.230164,34.0060328 208.369311,27.4528525 196.393967,31.3432131 L15.028459,90.292459 C3.84209836,94.3380984 -2.44459016,106.422557 0.896,118.022295 C4.37718033,130.121443 17.227541,137.49718 29.1126557,133.636197 C29.5638033,133.489311 210.484459,74.7058361 210.484459,74.7058361"></path>
        <path d="M52.8220328,125.933115 C64.6274098,122.097311 79.8468197,117.151475 96.1762623,111.84682 C90.8527213,95.4565246 85.9026885,80.2245246 82.0920656,68.4946885 L38.731541,82.5872787 L52.8220328,125.933115"></path>
        <path d="M144.159475,96.256 C160.551869,90.9303607 175.785967,85.9803279 187.515803,82.1676066 C182.190164,65.7752131 177.240131,50.5390164 173.42741,38.807082 L130.068984,52.8996721 L144.159475,96.256"></path>
    </symbol>
</svg>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://grakn.ai">
                    <!-- <svg><use xlink:href="#logo" /></svg>
                    <span class="projectTitle">GRAKN.AI</span> -->
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    viewBox="0 0 166.9 35" style="enable-background:new 0 0 166.9 35;" xml:space="preserve">
                        <style type="text/css">
                            .st0{fill:url(#SVGID_1_);}
                            .st1{fill:#594F95;}
                            .st2{fill:#594E93;}
                            .st3{fill:#7F72D0;}
                        </style>
                        <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="-8.111572e-02" y1="17.5" x2="34.7256" y2="17.5" gradientTransform="matrix(1 0 0 -1 0 35)">
                            <stop  offset="0" style="stop-color:#7F68FC"/>
                            <stop  offset="0.2771" style="stop-color:#9084FC"/>
                            <stop  offset="1" style="stop-color:#A197FD"/>
                        </linearGradient>
                        <path class="st0" d="M28.2,0c-0.3,0-0.6,0-0.8,0H5.8C5.1,0,4.3,0.1,3.6,0.4C1.5,1.2,0,3.3,0,5.5c0,7.9,0,15.8,0,23.7
                            c0,1,0.2,2.1,0.7,2.9c0.8,1.4,2.1,2.4,3.6,2.7V17c0-1,0.1-2.1,0.8-2.9c0.7-0.9,1.7-1.5,2.9-1.7V7.7c-0.7-0.4-1.2-1-1.4-1.8
                            c-0.2-1,0.2-2.1,1.1-2.6c0.9-0.6,2.1-0.5,3,0.1c0.8,0.6,1.2,1.8,0.9,2.8c-0.2,0.7-0.7,1.2-1.3,1.5v4.7h16c1.2,0,2.3,0.4,3.1,1.3
                            c0.8,0.8,1.2,1.9,1.2,3v5.7c0,1.7-1.1,3.3-2.7,3.9c-0.7,0.3-1.4,0.3-2.1,0.3H13.9V35h15.6c2.3,0,4.5-1.7,5.2-3.9
                            c0.4-1,0.3-2.1,0.3-3.2V5.8c0.1-2.5-1.6-4.8-4-5.5c-0.7-0.2-1.3-0.2-2-0.2L28.2,0L28.2,0z"/>
                        <path class="st1" d="M151.1,8.8c-0.3,0.1-0.4,0.4-0.5,0.7c-1.6,5.5-3.3,11-4.9,16.5c0,0.2-0.1,0.4-0.1,0.6c0.1,0.2,0.4,0.2,0.6,0.2
                            h0.6c0.3,0,0.5,0,0.8,0c0.2,0,0.5-0.2,0.5-0.4l1.2-4.1h5.4c0.4,1.4,0.8,2.7,1.2,4c0.1,0.2,0.2,0.5,0.5,0.5c0.6,0,1.2,0,1.8,0
                            c0.2,0,0.5-0.1,0.5-0.3c0-0.6-0.3-1.1-0.4-1.6l-4.6-15.5c-0.1-0.3-0.3-0.6-0.6-0.5h-0.7h-0.5C151.6,8.8,151.4,8.8,151.1,8.8z
                                M151.2,15.9c0.4-1.3,0.6-2.6,0.8-3.9c0.2,1.2,0.4,2.5,0.8,3.8c0.4,1.4,0.9,2.8,1.3,4.2h-2.4h-1.8L151.2,15.9z"/>
                        <rect x="164.2" y="8.8" width="2.7" height="18"/>
                        <path class="st2" d="M164.4,8.9c-0.2,0.1-0.2,0.4-0.2,0.5v16.8c0,0.3,0.2,0.6,0.5,0.5c0.6,0,1.2,0,1.8,0c0.3,0,0.4-0.3,0.4-0.5V9.4
                            c0-0.2,0-0.6-0.3-0.6c-0.4,0-0.8,0-1.2,0C165.1,8.8,164.7,8.8,164.4,8.9z"/>
                        <path class="st3" d="M12.9,16.5c-1.3,0.4-2.2,1.6-2.3,2.9c-0.1,1.2,0.6,2.4,1.6,3c0.9,0.5,2,0.5,2.9,0.1c1.5-0.7,2.2-2.5,1.6-4
                            c-0.4-1.2-1.7-2.1-3-2.1C13.4,16.4,13.2,16.4,12.9,16.5z"/>
                        <path class="st3" d="M22.2,16.5c-1.6,0.5-2.5,2.2-2.1,3.8c0.3,1.6,2.1,2.8,3.8,2.4c1.7-0.3,2.8-2.3,2.4-3.9
                            c-0.3-1.4-1.7-2.5-3.1-2.5C22.8,16.4,22.5,16.4,22.2,16.5z"/>
                        <rect x="137.8" y="23.5" width="2.7" height="3.3"/>
                        <path class="st2" d="M138.2,23.5c-0.3,0-0.4,0.3-0.4,0.5c0,0.8,0,1.5,0,2.3c0,0.2,0.2,0.4,0.5,0.4c0.6,0,1.2,0,1.8,0
                            c0.2,0,0.5-0.2,0.4-0.4c0-0.8,0-1.5,0-2.2c0-0.3-0.1-0.6-0.4-0.5h-1C138.7,23.5,138.4,23.5,138.2,23.5z"/>
                        <path class="st2" d="M49.9,9.5c1.5-0.9,3.2-0.9,4.9-0.8c1.4,0.1,2.9,0.4,4,1.4c0.8,0.8,1.1,2,1,3.1c-0.1,0.4,0.2,1-0.2,1.3
                            c-0.6,0.1-1.2,0-1.9,0c-0.2,0-0.5-0.1-0.5-0.4c-0.1-0.7,0.1-1.4-0.3-2c-0.4-0.8-1.3-1-2.1-1.1c-1-0.1-2.1-0.1-3,0.4
                            c-0.7,0.3-1,1.1-1,1.8v9.4c0,0.6,0.2,1.2,0.7,1.6c0.7,0.5,1.6,0.5,2.4,0.6c0.8-0.1,1.8-0.1,2.5-0.6c0.5-0.3,0.7-0.9,0.7-1.4
                            c0-0.9,0-1.7,0-2.6c-1.1,0-2.1,0-3.2,0c-0.3,0-0.4-0.3-0.4-0.5c0-0.5,0-0.9,0-1.4c0-0.3,0.3-0.4,0.5-0.4h5.1c0.2,0,0.5,0.1,0.5,0.4
                            c0,1.6,0,3.2,0,4.9c0,1.1-0.5,2.3-1.5,3c-1.4,0.9-3.1,1-4.6,1c-1.5-0.1-3.2-0.3-4.4-1.4c-0.8-0.7-1.1-1.7-1.1-2.7c0-3.5,0-7,0-10.5
                            C48.2,11.2,48.8,10,49.9,9.5z"/>
                        <path class="st2" d="M68.6,11.1v6.3c1.1,0,2.2,0,3.4,0c1-0.1,2-0.2,2.7-1c0.5-0.7,0.4-1.6,0.4-2.5c0-0.7,0-1.5-0.5-2
                            c-0.6-0.7-1.6-0.8-2.5-0.8C70.9,11.1,69.7,11.1,68.6,11.1z M65.9,9.4c0-0.3,0.1-0.6,0.4-0.6c2,0,4,0,6,0c1.4,0,2.9,0.3,4,1.2
                            c0.8,0.6,1.3,1.6,1.3,2.6s0,2,0,3c0,0.9-0.2,1.7-0.8,2.4c-0.6,0.7-1.4,1.1-2.2,1.4c1,2.3,2.1,4.6,3.1,7l-0.1,0.3
                            c-0.5,0.2-1,0.1-1.5,0.1c-0.4,0-0.9,0.1-1.1-0.3c-1-2.2-2-4.5-3-6.7c-1.2,0-2.3,0-3.5,0c0,2.2,0,4.4,0,6.6c0,0.2-0.2,0.4-0.5,0.4
                            c-0.6,0-1.2,0-1.8,0c-0.3,0-0.5-0.3-0.5-0.5V9.4H65.9z"/>
                        <path class="st2" d="M87.7,9.5c0.1-0.3,0.2-0.7,0.6-0.7c0.6,0,1.3,0,1.9,0c0.3,0,0.5,0.3,0.5,0.6c1.6,5.3,3.2,10.6,4.8,15.9
                            c0.1,0.4,0.3,0.7,0.3,1.1c0,0.3-0.3,0.3-0.5,0.3c-0.6,0-1.2,0-1.8,0c-0.3,0-0.4-0.3-0.5-0.5c-0.6-2.1-1.3-4.3-1.8-6.4
                            c-0.4-1.5-1.4-5.3-2-8c-0.6,2.5-0.8,3.3-1.9,7.3c-0.5,1.8-0.6,1.9-0.9,3.2l-1.2,3.9c-0.1,0.2-0.3,0.4-0.5,0.4c-0.6,0-1.1,0-1.6,0
                            c-0.2,0-0.4-0.1-0.4-0.3c0-0.3,0.2-0.7,0.2-1C84.5,20.1,86.1,14.8,87.7,9.5z"/>
                        <path class="st2" d="M101.4,9c0.2-0.2,0.4-0.1,0.6-0.1c0.6,0,1.1,0,1.7,0c0.3,0,0.3,0.4,0.3,0.6v7.4h0.5l5.4-7.4
                            c0.2-0.2,0.5-0.6,0.8-0.6c0.6,0,1.2,0,1.8,0c0.2,0,0.3,0,0.4,0.2c0,0.2-0.1,0.4-0.2,0.6l-5.8,8l5.4,6.8c0.5,0.7,1.1,1.2,1.5,2
                            c-0.1,0.1-0.2,0.3-0.4,0.3c-0.7,0-1.4,0-2.1,0c-0.3,0-0.5-0.2-0.7-0.4c-2-2.5-3.9-5-5.9-7.5h-0.5v7.4c0,0.2-0.1,0.5-0.4,0.5
                            c-0.6,0-1.2,0-1.9,0c-0.3,0-0.5-0.2-0.5-0.5V9.9C101.3,9.5,101.2,9.2,101.4,9z"/>
                        <path class="st2" d="M119,9.3c0-0.2,0.2-0.5,0.4-0.5c0.6,0,1.2,0,1.8,0c0.2,0,0.3,0.2,0.4,0.4c1.8,3.2,3.6,6.3,5.4,9.5
                            c0.5,0.9,1.1,1.8,1.5,2.8c0-4,0-8.1,0-12.1c0-0.7,0.8-0.4,1.3-0.5c0.4,0.1,1.1-0.2,1.3,0.4c0,5.7,0,11.4,0,17.1
                            c0,0.6-0.7,0.4-1.1,0.4c-0.4-0.1-1.1,0.2-1.4-0.3l-5.5-9.7c-0.5-0.9-1-1.7-1.4-2.7c0,4,0,8.1,0,12.1c0,0.3-0.2,0.5-0.4,0.5
                            c-0.5,0-1.1,0-1.6,0c-0.3,0-0.5-0.3-0.4-0.5V9.3H119z"/>
                    </svg>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <!-- entries without drop-downs appear here -->
                    
                    <!-- entries with drop-downs appear here -->
                    <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                    
                    
                    <!-- <li class="dropdown">
                        <a>Documentation</a>
                        <ul>
                            <li><a href="#">Overview</a></li>
                            <li><a href="#">Core API</a></li>
                            <li><a href="#">Graql API</a></li>
                            <li><a href="#">Rest API</a></li>
                            <li><a href="#">Javadoc</a></li>
                        </ul>
                    </li> -->
                    <li><a href="/overview/index.html">Overview</a></li>
                    <li><a href="/academy/index.html">Academy</a></li>
                    <li><a href="/index.html">Docs</a></li>
                    <li><a rel="me" href="//grakn.ai/community.html">Community</a></li>
                    <li><a rel="me" href="//discuss.grakn.ai/">Discuss</a></li>
                    <li><a rel="me" href="//blog.grakn.ai/" target="_blank">Blog</a></li>
                    <!--comment out this block if you want to hide search-->
                    <li>
                        <!--start search-->
                        <div id="search-demo-container">
                            <input type="text" id="search-input" placeholder="Search">
                            <ul id="results-container"></ul>
                        </div>
                        <script src="/js/jekyll-search.js" type="text/javascript"></script>
                        <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                
                                dataSource: '/search.json',
                                
                                searchResultTemplate: '<li><a href="{url}" title="Reasoning with Graql">{title}</a></li>',
                                noResultsText: '<li><a class="empty">No results found</a></li>',
                                limit: 10,
                                fuzzy: true
                            });
                        </script>
                        <!--end search-->
                    </li>
                    <!--comment out this block if you want to hide github link-->
                    <li>
                        <a rel="me" href="//github.com/graknlabs/grakn" target="_blank" class="github">
                            <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#github"></use></svg>
                        </a>
                    </li>
                </ul>
            </div>
            </div>
            <!-- /.container -->
    </nav>
<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">
          






<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Documentation </li>
    
    
    
    <li>
        <a href="#">Get Started</a>
        <ul>
            
            
            
            <li><a href="/index">Home</a></li>
            
            
            
            
            
            
            <li><a href="/docs/get-started/setup-guide">Setup Guide</a></li>
            
            
            
            
            
            
            <li><a href="/docs/get-started/quickstart-tutorial">Quickstart Tutorial</a></li>
            
            
            
            
            
            
            <li><a href="/docs/get-started/grakn-server">Grakn Server</a></li>
            
            
            
            
            
            
            <li><a href="/docs/get-started/graql-console">Graql Console</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Knowledge Model</a>
        <ul>
            
            
            
            <li><a href="/docs/knowledge-model/model">The Model</a></li>
            
            
            
            
            
            
            <li><a href="/docs/knowledge-model/data">The Data</a></li>
            
            
            
            
            
            
            <li><a href="/docs/knowledge-model/inference">The Inference</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Building Schema</a>
        <ul>
            
            
            
            <li><a href="/docs/building-schema/defining-schema">Defining Schema</a></li>
            
            
            
            
            
            
            <li><a href="/docs/building-schema/defining-rules">Defining Rules</a></li>
            
            
            
            
            
            
            <li><a href="/docs/building-schema/querying-schema">Querying Schema</a></li>
            
            
            
            
            
            
            <li><a href="/docs/building-schema/basic-schema">Example: Basic Schema</a></li>
            
            
            
            
            
            
            <li><a href="/docs/building-schema/hierarchical-schema">Example: Hierarchical Schema</a></li>
            
            
            
            
            
            
            <li><a href="/docs/building-schema/rule-driven-schema">Example: Rule-Driven Schema</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Querying Data</a>
        <ul>
            
            
            
            <li><a href="/docs/querying-data/overview">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/docs/querying-data/match-clause">Match Clause</a></li>
            
            
            
            
            
            
            <li><a href="/docs/querying-data/get-queries">Get Queries</a></li>
            
            
            
            
            
            
            <li><a href="/docs/querying-data/insert-queries">Insert Queries</a></li>
            
            
            
            
            
            
            <li><a href="/docs/querying-data/delete-queries">Delete Queries</a></li>
            
            
            
            
            
            
            <li><a href="/docs/querying-data/aggregate-queries">Aggregate Queries</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Distributed Analytics</a>
        <ul>
            
            
            
            <li><a href="/docs/distributed-analytics/overview">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/docs/distributed-analytics/compute-queries">Compute Queries</a></li>
            
            
            
            
            
            
            <li><a href="/docs/distributed-analytics/compute-statistics">Statistics</a></li>
            
            
            
            
            
            
            <li><a href="/docs/distributed-analytics/compute-shortest-path">Shortest Path</a></li>
            
            
            
            
            
            
            <li><a href="/docs/distributed-analytics/compute-degrees">Degrees</a></li>
            
            
            
            
            
            
            <li><a href="/docs/distributed-analytics/compute-connected-components">Connected Components</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Migrating Data</a>
        <ul>
            
            
            
            <li><a href="/docs/migrating-data/overview">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/docs/migrating-data/migration-language">Language</a></li>
            
            
            
            
            
            
            <li><a href="/docs/migrating-data/migrating-csv">Migrating CSV</a></li>
            
            
            
            
            
            
            <li><a href="/docs/migrating-data/migrating-json">Migrating JSON</a></li>
            
            
            
            
            
            
            <li><a href="/docs/migrating-data/migrating-sql">Migrating SQL</a></li>
            
            
            
            
            
            
            <li><a href="/docs/migrating-data/migrating-xml">Migrating XML</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Java Library</a>
        <ul>
            
            
            
            <li><a href="/docs/java-library/setup">Setup</a></li>
            
            
            
            
            
            
            <li><a href="/docs/java-library/core-api">Core API</a></li>
            
            
            
            
            
            
            <li><a href="/docs/java-library/graql-api">Graql API</a></li>
            
            
            
            
            
            
            <li><a href="/docs/java-library/migration-api">Migration API</a></li>
            
            
            
            
            
            
            <li><a href="/docs/java-library/loader-api">Loader API</a></li>
            
            
            
            
            
            
            <li><a href="/docs/java-library/advanced">Advanced</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Visulisation Dashboard</a>
        <ul>
            
            
            
            <li><a href="/docs/visualisation-dashboard/visualiser">Grakn Visualiser</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">API References</a>
        <ul>
            
            
            
            <li><a href="/docs/api-references/ddl">Data Definition Language</a></li>
            
            
            
            
            
            
            <li><a href="/docs/api-references/dml">Data Manipulation Language</a></li>
            
            
            
            
            
            
            <li><a href="/docs/api-references/rest-api">REST API</a></li>
            
            
            
            
            
            
            <li><a href="/docs/api-references/graql-cheatsheet">Graql Cheatsheet</a></li>
            
            
            
            
            
            
            <li><a href="//javadoc.io/doc/ai.grakn/grakn" target="_blank">Javadocs</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Resources</a>
        <ul>
            
            
            
            <li><a href="/docs/resources/overview">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/docs/resources/faq">Grakn FAQ</a></li>
            
            
            
            
            
            
            <li><a href="/docs/resources/downloads">Downloads</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Examples</a>
        <ul>
            
            
            
            <li><a href="/docs/examples/examples-overview">Overview</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/CSV-migration">CSV Migration</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/SQL-migration">SQL Migration</a></li>
            
            
            
            
            
            
            <li class="active"><a href="/docs/examples/graql-reasoning">Reasoning with Graql</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/working-with-tweets">Working With Tweets</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/modern">Modern example</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/pokemon">Pokemon example</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/analytics">Statistical Analysis</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/java-api-example">API for Java developers</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/java-analytics">Analytics using Java APIs</a></li>
            
            
            
            
            
            
            <li><a href="/docs/examples/projects">Example Projects</a></li>
            
            
            
            
        </ul>
        
        

        
        <li>
            
            <li><a href="/contributors/index">Contribute to GRAKN.AI</a></li>
            
        </li>
        
        <li>
            
            <li><a href="/academy/index">GRAKN Academy</a></li>
            
        </li>
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

        </div>
        <!-- Content Column -->
        <div class="col-md-9">
            <div class="post-header">
   <h1 class="post-title-main">Reasoning with Graql</h1>
</div>



<div class="post-content">

   
    <div class="summary">An example to illustrate inference using genealogy data.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    

    

    

    

  <h2 id="introduction">Introduction</h2>

<p>This is an example of how to use the reasoning facilities of Graql to infer information about family relationships from a simple dataset of genealogy data. The data has been used previously as the basis of a <a href="https://blog.grakn.ai/family-matters-1bb639396a24#.2e6h72y0m">blog post</a> to illustrate the fundamentals of the Grakn visualiser as well as reasoning and analytics capabilities.</p>

<p>As the blog post explained, the original data was a <a href="http://www.lenzenresearch.com/titusnarrlineage.pdf">document</a> from <a href="http://www.lenzenresearch.com/">Lenzen Research</a> that described the family history of Catherine Niesz Titus for three generations of her maternal lineage. Our team gathered together a set of CSV files containing basic information about the family, such as names, dates of birth, death and marriage, who was a parent of who, and who married who.</p>

<p>The full genealogy-knowledge-base project can be found on Grakn’s <a href="https://github.com/graknlabs/sample-datasets/tree/master/genealogy-knowledge-base">sample-datasets</a> repository on Github. However, we will use a simpler schema for this example, which is found in <em>basic-genealogy.gql</em>, located within the <em>/examples</em> folder of the Grakn installation. The file can also be found <a href="https://github.com/graknlabs/grakn/blob/master/grakn-dist/src/examples/basic-genealogy.gql">on Github</a>.</p>

<p>In this example, we will explore how to use Grakn to make inferences and find information from the data that is not explicit in the dataset. You can find documentation about writing rules in Graql <a href="../building-schema/defining-rules">here</a>.</p>

<h2 id="schema-and-data">Schema and Data</h2>

<p>On GRAKN.AI, the first step when working with a dataset is to define its schema in Graql. The schema is a way to describe the entities and their relationships, so the underlying knowledge base can store them as nodes and edges. You can find out more in our guide to the Grakn Knowledge Model. The schema allows Grakn to perform:</p>

<ul>
  <li>logical reasoning over the represented knowledge, such as the extraction of implicit information from explicit data (inference)</li>
  <li>discovery of inconsistencies in the data (validation).</li>
</ul>

<p>The complete schema for the genealogy-knowledge-base demo is in <a href="https://github.com/graknlabs/grakn/blob/master/grakn-dist/src/examples/basic-genealogy.gql">basic-genealogy.gql</a>.</p>

<p>The schema contains a <code class="highlighter-rouge">person</code> entity, and a number of possible family relationships between <code class="highlighter-rouge">person</code> entities, such as parent/child, siblings, grandparent/grandchild, which we will discuss shortly. The data for this example is discussed more fully in our <a href="./CSV-migration">example on CSV migration</a>, which discusses how the original data is laid out in CSV files and migrated into GRAKN.AI. However, for this example, you do not need any familiarity with CSV migration or the origin of the data we are using.</p>

<h2 id="loading-the-example">Loading the Example</h2>

<p>The <em>basic-genealogy.gql</em> file contains the schema, data and rules needed for this example. To load it into a knowledge base, make sure the engine is running and choose a clean keyspace in which to work (in the example below we use the default keyspace, so we are cleaning it before we get started):</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>./grakn server clean
./grakn server start
./graql console -f &lt;relative-path-to-Grakn&gt;/examples/basic-genealogy.gql
</code></pre>
</div>

<p>When the terminal prompt returns, the data will have been loaded into the default keyspace, and you can start to look it using the <a href="../visualisation-dashboard/visualiser">Grakn visualiser</a>, by navigating to <a href="http://localhost:4567">http://localhost:4567</a> in your browser. Submit a query, such as <code class="highlighter-rouge">match $x isa person</code> to check that all is well with your knowledge base.</p>

<h2 id="inferring-family-relations">Inferring Family Relations</h2>

<p>By default, inference is switched off, and the only information you can query Grakn about is what was directed loaded from the data. For example, if you submit the following query to the visualiser:</p>

<pre><code class="language-graql">match (child: $c, parent: $p) isa parentship; get;
</code></pre>

<p>You will receive parentship results, but if you clear the query and then submit a new query for gender-specific results, say mother-daughter relationships:</p>

<pre><code class="language-graql">match (mother: $c, daughter: $p) isa parentship; get;
</code></pre>

<p>You will receive no results at all. To find inferred relationships between the people in our dataset, you need to activate inference in the Grakn visualiser. Open the Query settings under the cog button, which is on the far right hand side of the horizontal icon menu (at the top of the screen).</p>

<p>You will see the “Activate inference” checkbox. Check it, and Grakn is ready to start building some new information about the family. Try the query again:</p>

<pre><code class="language-graql">match (mother: $c, daughter: $p) isa parentship; get;
</code></pre>

<p>You should see something similar to the screenshot below in your visualiser window.</p>

<p><img src="/images/match-isa-mother-daughter.png" alt="Person query" /></p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> You can alternatively make queries in the graql shell.</div>

<h2 id="inference-rules">Inference Rules</h2>

<p>Inference is the process of deducing new information from available data. For example, given the following statements:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>If grass is not an animal.
If vegetarians only eat things which are not animals.
If sheep only eat grass.
</code></pre>
</div>

<p>It is possible to infer the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Then sheep are vegetarians.
</code></pre>
</div>

<p>The initial statements can be seen as a set of premises. If all the premises are met we can infer a new fact (that sheep are vegatarians). If we hypothetise that sheep are vegetarians then the whole example can be expressed with a particular two-block structure: IF some premises are met, THEN a given hypothesis is true.</p>

<p>This is how reasoning in Graql works. It checks whether the statements in the first block can be verified and, if they can, infers the statement in the second block. The rules are written in Graql, and we call the first set of statements (the IF part or, if you prefer, the antecedent) simply the “when”. The second part, not surprisingly, is the “then”. Using Graql, both sides of the rule are enclosed in curly braces and preceded by, respectively, the keywords <code class="highlighter-rouge">when</code> and <code class="highlighter-rouge">then</code>.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> The full documentation for writing rules in Graql is available from <a href="../building-schema/defining-rules">here</a>.</div>

<h3 id="example-1-specific-relationships-between-parents-and-children">Example 1: Specific relationships between parents and children</h3>

<p>As we saw above, it is possible for Grakn to infer the gender-specific roles (<code class="highlighter-rouge">mother</code>, <code class="highlighter-rouge">father</code>, <code class="highlighter-rouge">daughter</code>, <code class="highlighter-rouge">son</code>) that a <code class="highlighter-rouge">person</code> entity plays. It does this by applying the following rules:</p>

<pre><code class="language-graql">define

genderizeParentships1 sub rule
when
{(parent: $p, child: $c) isa parentship;
$p has gender "male";
$c has gender "male";
}
then
{(father: $p, son: $c) isa parentship;};

genderizeParentships2 sub rule
when
{(parent: $p, child: $c) isa parentship;
$p has gender "male";
$c has gender "female";
}
then
{(father: $p, daughter: $c) isa parentship;};

genderizeParentships3 sub rule
when
{(parent: $p, child: $c) isa parentship;
$p has gender "female";
$c has gender "male";
}
then
{(mother: $p, son: $c) isa parentship;};

genderizeParentships4 sub rule
when
{(parent: $p, child: $c) isa parentship;
$p has gender "female";
$c has gender "female";
}
then
{(mother: $p, daughter: $c) isa parentship;};
</code></pre>

<p>The four rules can be broken down as follows:</p>

<ul>
  <li>when: In the <code class="highlighter-rouge">parentship</code> relationship between child <code class="highlighter-rouge">$c</code> and parent <code class="highlighter-rouge">$p</code>, do they both have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">male</code>?
    <ul>
      <li>then: The <code class="highlighter-rouge">parentship</code> relationship is between <code class="highlighter-rouge">father</code> and <code class="highlighter-rouge">son</code></li>
    </ul>
  </li>
  <li>when: In the <code class="highlighter-rouge">parentship</code> relationship between child <code class="highlighter-rouge">$c</code> and parent <code class="highlighter-rouge">$p</code>, does <code class="highlighter-rouge">$c</code> have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">female</code> and <code class="highlighter-rouge">$p</code> have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">male</code>?
    <ul>
      <li>then: The <code class="highlighter-rouge">parentship</code> relationship is between <code class="highlighter-rouge">father</code> and <code class="highlighter-rouge">daughter</code></li>
    </ul>
  </li>
  <li>when: In the <code class="highlighter-rouge">parentship</code> relationship between child <code class="highlighter-rouge">$c</code> and parent <code class="highlighter-rouge">$p</code>, does <code class="highlighter-rouge">$c</code> have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">male</code> and <code class="highlighter-rouge">$p</code> have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">female</code>?
    <ul>
      <li>then: The <code class="highlighter-rouge">parentship</code> relationship is between <code class="highlighter-rouge">mother</code> and <code class="highlighter-rouge">son</code></li>
    </ul>
  </li>
  <li>when: In the <code class="highlighter-rouge">parentship</code> relationship between child <code class="highlighter-rouge">$c</code> and parent <code class="highlighter-rouge">$p</code>, do both have a <code class="highlighter-rouge">gender</code> attribute that is <code class="highlighter-rouge">female</code>?
    <ul>
      <li>then: The <code class="highlighter-rouge">parentship</code> relationship is between <code class="highlighter-rouge">mother</code> and <code class="highlighter-rouge">daughter</code></li>
    </ul>
  </li>
</ul>

<p>We can use the rule to easily discover the sons who have the same name as their fathers:</p>

<pre><code class="language-graql">match (father: $p, son: $c) isa parentship; $p has firstname $n; $c has firstname $n; get;
</code></pre>

<p>In the genealogy-knowledge-base example, there should be two results returned. William and John are names shared between father/son pairs.</p>

<h3 id="example-2-a-grandparentship-relationship">Example 2: A <code class="highlighter-rouge">grandparentship</code> relationship</h3>

<p>The <em>basic-genealogy</em> file contains a number of rules for setting up family relationships, such as siblings, cousins, in-laws and the following, which sets up a relationship called <code class="highlighter-rouge">grandparentship</code>:</p>

<pre><code class="language-graql">define

parentsOfParentsAreGrandparents sub rule
when
{(parent:$p, child: $gc) isa parentship;
(parent: $gp, child: $p) isa parentship;
}
then
{(grandparent: $gp, grandchild: $gc) isa grandparentship;};
</code></pre>

<p>Here, the “when” rules check two statements:</p>

<ul>
  <li>does <code class="highlighter-rouge">$p</code> play the <code class="highlighter-rouge">parent</code> role in a <code class="highlighter-rouge">parentship</code> relationship, with (<code class="highlighter-rouge">$gc</code>) playing the <code class="highlighter-rouge">child</code> role?</li>
  <li>does <code class="highlighter-rouge">$p</code> also play the <code class="highlighter-rouge">child</code> role in a <code class="highlighter-rouge">parentship</code> relationship, with (<code class="highlighter-rouge">$gp</code>) playing the <code class="highlighter-rouge">parent</code> role?</li>
</ul>

<p>If so, the right hand side of the rules state that:</p>

<ul>
  <li><code class="highlighter-rouge">$gp</code> and <code class="highlighter-rouge">$gc</code> are in a <code class="highlighter-rouge">grandparentship</code> relationship, where <code class="highlighter-rouge">$gp</code> plays the <code class="highlighter-rouge">grandparent</code> role and <code class="highlighter-rouge">$gc</code> plays the <code class="highlighter-rouge">grandchild</code> role.</li>
</ul>

<p>Some additional rules can add more specifics to the <code class="highlighter-rouge">grandparentship</code> and assign the entities to the roles <code class="highlighter-rouge">grandson</code>, <code class="highlighter-rouge">granddaughter</code>, <code class="highlighter-rouge">grandmother</code> and <code class="highlighter-rouge">grandfather</code>:</p>

<pre><code class="language-graql">define

grandParents1 sub rule
when
{($p, son: $gc) isa parentship;
(father: $gp, $p) isa parentship;
}
then
{(grandfather: $gp, grandson: $gc) isa grandparentship;};

grandParents2 sub rule
when
{($p, daughter: $gc) isa parentship;
(father: $gp, $p) isa parentship;
}
then
{(grandfather: $gp, granddaughter: $gc) isa grandparentship;};

grandParents3 sub rule
when
{($p, daughter: $gc) isa parentship;
(mother: $gp, $p) isa parentship;
}
then
{(grandmother: $gp, granddaughter: $gc) isa grandparentship;};

grandParents4 sub rule
when
{($p, son: $gc) isa parentship;
(mother: $gp, $p) isa parentship;
}
then
{(grandmother: $gp, grandson: $gc) isa grandparentship;};
</code></pre>

<p>Much as above for the <code class="highlighter-rouge">parentship</code> relationship, the rules can be broken down as follows:</p>

<ul>
  <li>when: There is a <code class="highlighter-rouge">parentship</code> relationship between son <code class="highlighter-rouge">$gc</code> and parent <code class="highlighter-rouge">$p</code>, and another <code class="highlighter-rouge">parentship</code> relationship where <code class="highlighter-rouge">$p</code> is now in the child role and <code class="highlighter-rouge">$gp</code> is a father.
    <ul>
      <li>then: The <code class="highlighter-rouge">grandparentship</code> relationship is between <code class="highlighter-rouge">grandfather</code> and <code class="highlighter-rouge">grandson</code></li>
    </ul>
  </li>
  <li>when: There is a <code class="highlighter-rouge">parentship</code> relationship between daughter <code class="highlighter-rouge">$gc</code> and parent <code class="highlighter-rouge">$p</code>, and another <code class="highlighter-rouge">parentship</code> relationship where <code class="highlighter-rouge">$p</code> is now in the child role and <code class="highlighter-rouge">$gp</code> is a father.
    <ul>
      <li>then: The <code class="highlighter-rouge">grandparentship</code> relationship is between <code class="highlighter-rouge">grandfather</code> and <code class="highlighter-rouge">granddaughter</code></li>
    </ul>
  </li>
  <li>when: There is a <code class="highlighter-rouge">parentship</code> relationship between daughter <code class="highlighter-rouge">$gc</code> and parent <code class="highlighter-rouge">$p</code>, and another <code class="highlighter-rouge">parentship</code> relationship where <code class="highlighter-rouge">$p</code> is now in the child role and <code class="highlighter-rouge">$gp</code> is a mother.
    <ul>
      <li>then: The <code class="highlighter-rouge">grandparentship</code> relationship is between <code class="highlighter-rouge">grandmother</code> and <code class="highlighter-rouge">granddaughter</code></li>
    </ul>
  </li>
  <li>when: There is a <code class="highlighter-rouge">parentship</code> relationship between son <code class="highlighter-rouge">$gc</code> and parent <code class="highlighter-rouge">$p</code>, and another <code class="highlighter-rouge">parentship</code> relationship where <code class="highlighter-rouge">$p</code> is now in the child role and <code class="highlighter-rouge">$gp</code> is a mother.
    <ul>
      <li>then: The <code class="highlighter-rouge">grandparentship</code> relationship is between <code class="highlighter-rouge">grandmother</code> and <code class="highlighter-rouge">grandson</code></li>
    </ul>
  </li>
</ul>

<p>These rules allow us to find all <code class="highlighter-rouge">grandparentship</code> relationships, and further, it allows us to query, for example, which grandfather/grandson pairs share the same name:</p>

<pre><code class="language-graql">match (grandfather: $x, grandson: $y) isa grandparentship; $x has firstname $n; $y has firstname $n; get;
</code></pre>

<p>In the genealogy-knowledge-base example, there should be three results returned. George, Jacob and John are names shared between grandfather/grandson pairs.</p>

<p><img src="/images/match-grandfather-grandson-names.png" alt="Person query" /></p>

<h3 id="example-3-a-cousins-relationship">Example 3: A <code class="highlighter-rouge">cousins</code> relationship</h3>

<p>Another rule can be used to infer <code class="highlighter-rouge">person</code> entities who are cousins:</p>

<pre><code class="language-graql-skip-test">define

peopleWithSiblingsParentsAreCousins sub rule
when
{
(parent: $p, child: $c1) isa parentship;
($p, $p2) isa siblings;
(parent: $p2, child: $c2) isa parentship;
}
then
{(cousin1: $c1, cousin2: $c2) isa cousins;};

</code></pre>

<ul>
  <li><code class="highlighter-rouge">$p</code> is a <code class="highlighter-rouge">parent</code> and has a <code class="highlighter-rouge">child</code> <code class="highlighter-rouge">$c1</code></li>
  <li><code class="highlighter-rouge">$p</code> is a sibling to <code class="highlighter-rouge">$p2</code></li>
  <li><code class="highlighter-rouge">$p2</code> has a <code class="highlighter-rouge">child</code> <code class="highlighter-rouge">$c2</code></li>
  <li>Then <code class="highlighter-rouge">$c1</code> and <code class="highlighter-rouge">$c2</code> are in a <code class="highlighter-rouge">cousins</code> relationship.</li>
</ul>

<p>It would also be possible to infer uncle/aunt/nephew/niece relationships, using a similar approach. We will leave that as an exercise for the reader!</p>

<h2 id="other-queries">Other Queries</h2>

<p>There are some queries that are currently not possible. For example:</p>

<ul>
  <li>Who has no children?</li>
  <li>Who has never married?</li>
  <li>Who has the most grandchildren?</li>
  <li>Who has the most brothers?</li>
</ul>

<p>If you want to infer information from a dataset such as this example, and want to check whether it is possible, please reach out to us via <a href="https://grakn.ai/slack.html">Slack</a> or our <a href="https://discuss.grakn.ai">discussion forum</a>.</p>

<h2 id="where-next">Where Next?</h2>

<p>This example has illustrated the basics of the inference rules used by Graql. Having read it, you may want to further study our documentation about <a href="../building-schema/defining-rules">Graql Rules</a> and further investigate the <a href="./CSV-migration">example that imports the genealogy data from CSV format into Grakn</a>.</p>

<p>We will be using the genealogy data throughout our documentation. For an overview, please see our <a href="https://blog.grakn.ai/family-matters-1bb639396a24#.uelgekrn2">Family Matters</a> blog post.</p>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="/tag_reasoning.html" class="btn btn-default navbar-btn cursorNorm" role="button">reasoning</a>
        
        
        
        <a href="/tag_examples.html" class="btn btn-default navbar-btn cursorNorm" role="button">examples</a>
        
        
        
    </div>

    

</div>

<!-- <hr class="shaded"/> -->

<footer class="row">
    <div class="col-lg-4 footer">
        <span class="footer-header">Get in touch</span>
        <p>
            <a class="slack" href="https://grakn.ai/slack.html">
                <svg><use xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="#slack"></use></svg> Grakn on Slack
            </a>
            <br>
            <a rel="me" class="github" href="https://github.com/graknlabs/grakn" target="_blank">
                <svg><use xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="#github"></use></svg> Grakn on GitHub
            </a>
            <br><br>
            <a href="mailto:info@grakn.ai">info@grakn.ai</a><br>
            Unit 22, 8 Hornsey Street<br>
            London, UK, N7 8EG
        </p>
        <br>
        <p>© 2017 <a href="https://grakn.ai">Grakn Labs Ltd</a></p>
        <!-- &copy;2017 GRAKN.AI. All rights reserved. <br />
        <span>Page last updated:</span> February 2017<br/> Site last generated: Dec 13, 2017 <br />
        <p><img src="images/company_logo.png" alt="Company logo"/></p> -->
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Get Started</span>
        <ul>
            <li><a href="/overview/index.html">Introduction</a></li>
            <li><a href="/docs/get-started/setup-guide">Install</a></li>
            <li><a href="/docs/get-started/quickstart-tutorial">Quickstart</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Resources</span>
        <ul>
            <li><a href="/index.html">Documentation</a></li>
            <li><a rel="me" href="https://github.com/graknlabs/grakn" target="_blank">GitHub</a></li>
            <li><a href="https://grakn.ai/javadocs.html">Javadoc</a></li>
            <li><a href="https://grakn.ai/community.html">Community</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Community</span>
        <ul>
            <li><a rel="me" href="https://discuss.grakn.ai">Discussion</a></li>
            <li><a rel="me" href="https://stackoverflow.com/questions/tagged/graql+or+grakn" target="_blank">Stack Overflow</a></li>
            <li><a href="https://grakn.ai/slack.html">Slack</a></li>
            <li><a rel="me" href="https://twitter.com/graknlabs" target="_blank">Twitter</a></li>
        </ul>
    </div>
    <div class="col-lg-2 footer">
        <span class="footer-header">Company</span>
        <ul>
            <li><a rel="me" href="https://blog.grakn.ai" target="_blank">Blog</a></li>
            <li><a href="https://grakn.ai/careers.html">Careers</a></li>
            <li><a href="https://grakn.ai/about.html">About</a></li>
        </ul>
    </div>
</footer>


        </div>
    </div>
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-72414051-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>